!function(){"use strict";const t=(t,e,n)=>{let i;if(void 0===e)throw new Error("Missing namespace in `createEvent` function");return i="function"==typeof window.CustomEvent?new CustomEvent(`${e}:${t}`,n):((t,e)=>{e=e||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n})(`${e}:${t}`,n),i},e=(t,{wait:e="raf",immediate:n=!1}={})=>{const i="raf"===e;if(!i&&"number"!=typeof e)return;let r;return function(){let s=this,a=arguments;const o=()=>{r=null,n||t.apply(s,a)},c=n&&!r;r&&(i?window.cancelAnimationFrame(r):clearTimeout(r)),r=i?window.requestAnimationFrame(()=>t.apply(s,a)):setTimeout(o,e),c&&t.apply(s,a)}};function n(t,e){return t(e={exports:{}},e.exports),e.exports}var i=n((function(t){function e(){this.listeners={}}e.prototype={on:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({fn:e,scope:n||null})},off:function(t,e){if(!this.listeners[t])return!1;e||(this.listeners[t]=[]);for(var n=this.listeners[t].length;n--;)this.listeners[t][n].fn===e&&this.listeners[t].splice(n,1);return this.listeners[t].length||(this.listeners[t]=null),!0},emit:function(t){for(var e=this.listeners[t]||[],n=[].slice.call(arguments,1),i=0;e[i];++i)e[i].fn.apply(e[i].scope,n)}},t.exports=e})),r=n((function(t){var e=function(t){var e={},n={},i={},r={},s=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a=function(t){var e=t.split(".");return{ev:e[0],ns:e[1]||null}},o=function(t,e){for(var n=[],i=0;t[i];++i)e(t[i])||n.push(t[i]);return n},c=function(e,s,o){var c=a(e),l=c.ev,u=c.ns;i[l]||(r[l]=function(t){d.notify(l,t)},t.addEventListener(l,r[l],!1),i[l]=!0),n[l]||(n[l]=[]),n[l].push({fn:s,ns:u,scope:o||null})},l=function(t,e){var i=a(t),r=i.ev,s=i.ns;return!!n[r]&&(n[r]=s&&e?o(n[r],(function(t){return t.ns===s&&t.fn===e})):s?o(n[r],(function(t){return t.ns===s})):e?o(n[r],(function(t){return t.fn===e})):[],!n[r].length>0&&(n[r]=null),!0)},u=function(e,n,i){t.requestAnimationFrame((function(){n.call(i||null,{type:e})}))},d={on:function(e,n,i){for(var r=e.split(/\s+/),s=0;r[s];++s)"complete"===t.document.readyState&&r[s].match(/^load(\.|$)/)?u("load",n,i):c(r[s],n,i)},off:function(t,e){for(var n=t.split(/\s+/),i=0,r=0;n[r];++r)i+=l(n[r],e)?1:0;return i},reset:function(){var a;for(a in i)s(i,a)&&t.removeEventListener(a,r[a],!1);for(a in e)s(e,a)&&e[a]&&t.cancelAnimationFrame(e[a]);n={},e={},i={},r={}},notify:function(i,r){!e[i]&&n[i]&&(e[i]=t.requestAnimationFrame((function(){!function(t,e){for(var i=n[t]||[],r=0;i[r];++r)i[r].fn.call(i[r].scope,e)}(i,r),e[i]=!1})))}};return function(){return d}}(window);t.exports=e}));const s={TARGET_HIDE_CLASS:"u-js-hide",TRIGGER_OPEN_CLASS:"is-open",TRIGGER_OPEN_LABEL:void 0,CLOSE_ON_FOCUS_OUT:!0,AUTOFOCUS:null,OPEN_EVENT:!1};var a=Object.freeze({__proto__:null,Popup:class{constructor(e,n,i={}){this._trigger=e,this._id=n,this._options=i,this._content=document.querySelector("#"+this._id),this._className="c-popup",this._isOpen=!1,this._arrowClass=this._className+"__arrow",this._closeClass=this._className+"__close",this._closeTextClass=this._className+"__close-text",this._closeButton=`<button class="${this._closeClass}"><span class="${this._closeTextClass}">Close</span></button>`,this._arrow=`<div class="${this._arrowClass}"></div>`,this._closeHandler=()=>{this._close()},this._build(),this._expander=new class{constructor(t,e,n={}){this._options=Object.assign({},s,n),this._autoFocusElement=t,this._triggerEl=t,this._targetEl=e,this._originalTriggerText=t.textContent,this._isOpen=!1,this._handleButtonClick=this._handleButtonClick.bind(this),this._handleButtonKeydown=this._handleButtonKeydown.bind(this),this._handleDocumentClick=this._handleDocumentClick.bind(this),this._handleDocumentKeydown=this._handleDocumentKeydown.bind(this)}_handleButtonClick(t){t.preventDefault(),this._isOpen?this.close():this.open()}_handleButtonKeydown(t){"Enter"!==t.key&&" "!==t.key&&"Spacebar"!==t.key||(t.preventDefault(),this._isOpen?this.close():this.open())}_handleDocumentKeydown(t){"Escape"===t.key&&(this.close(),this._triggerEl.focus()),this._options.CLOSE_ON_FOCUS_OUT&&("Tab"===t.key&&!0===t.shiftKey&&(t.target!==this._targetTabbableItems[0]&&t.target!==this._triggerEl&&t.target!==this._targetEl||(t.preventDefault(),window.requestAnimationFrame(()=>{this.close(),this._triggerEl.focus()}))),"Tab"===t.key&&!1===t.shiftKey&&t.target===this._targetTabbableItems[this._targetTabbableItems.length-1]&&(t.preventDefault(),window.requestAnimationFrame(()=>{this.close(),this._triggerEl.focus()})))}_handleDocumentClick(t){let e=t.target;e===this._targetEl||e===this._triggerEl||this._targetEl.contains(e)||this._triggerEl.contains(e)||this.close()}_setupTemporaryEventListeners(){document.addEventListener("keydown",this._handleDocumentKeydown),this._options.CLOSE_ON_FOCUS_OUT&&document.addEventListener("click",this._handleDocumentClick)}_removeTemporaryEventListeners(){document.removeEventListener("keydown",this._handleDocumentKeydown),this._options.CLOSE_ON_FOCUS_OUT&&document.removeEventListener("click",this._handleDocumentClick)}_updateAttributes(){this._triggerEl.setAttribute("aria-expanded",this._isOpen.toString()),this._isOpen?this._targetEl.removeAttribute("hidden"):this._targetEl.setAttribute("hidden","")}_updateClassAttributes(){this._isOpen?(this._triggerEl.classList.add(this._options.TRIGGER_OPEN_CLASS),this._targetEl.classList.remove(this._options.TARGET_HIDE_CLASS)):(this._triggerEl.classList.remove(this._options.TRIGGER_OPEN_CLASS),this._targetEl.classList.add(this._options.TARGET_HIDE_CLASS))}_updateTriggerLabel(){this._options.TRIGGER_OPEN_LABEL&&(this._triggerEl.textContent=this._isOpen?this._options.TRIGGER_OPEN_LABEL:this._originalTriggerText)}_updateTabbableItems(){this._targetTabbableItems=(t=>{const e=[];return t?(Array.prototype.forEach.call(t,(function(t){e.push(t)})),e):e})(this._targetEl.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(t=>"hidden"!==window.getComputedStyle(t).getPropertyValue("visibility"))}_handleAutoFocus(){"target"===this._options.AUTOFOCUS&&(this._autoFocusElement=this._targetEl,this._targetEl.setAttribute("tabindex","-1")),"firstTabbable"===this._options.AUTOFOCUS&&(this._autoFocusElement=this._targetTabbableItems.length>0&&this._targetTabbableItems[0],this._autoFocusElement.setSelectionRange&&this._autoFocusElement.setSelectionRange(0,this._autoFocusElement.value.length)),this._autoFocusElement.focus()}open(){if(!this._isOpen&&(this._isOpen=!0,this._updateTriggerLabel(),this._updateAttributes(),this._updateClassAttributes(),this._updateTabbableItems(),this._setupTemporaryEventListeners(),this._handleAutoFocus(),this._options.OPEN_EVENT)){const e=t("open","globalExpander",{bubbles:!1});this._triggerEl.dispatchEvent(e)}}close(){this._isOpen&&(this._isOpen=!1,this._updateTriggerLabel(),this._updateAttributes(),this._updateClassAttributes(),this._removeTemporaryEventListeners())}init(){"A"===this._triggerEl.tagName&&"#"===this._triggerEl.getAttribute("href").charAt(0)&&this._triggerEl.setAttribute("href","javascript:;"),this._updateTriggerLabel(),this._updateAttributes(),this._updateClassAttributes(),this._triggerEl.addEventListener("click",this._handleButtonClick),this._triggerEl.addEventListener("keydown",this._handleButtonKeydown)}}(this._trigger,this._content,{OPEN_EVENT:!0}),this._bindEvents()}open(){this._expander.open()}_build(){this._content.insertAdjacentHTML("beforeend",this._closeButton+this._arrow),document.body.appendChild(this._content)}_getCloseButton(){return this._content.querySelector("."+this._closeClass)}_positionPopup(){this._isOpen=!0,this._options.MAX_WIDTH&&(this._content.style.maxWidth=this._options.MAX_WIDTH),this._options.MIN_WIDTH&&(this._content.style.minWidth=this._options.MIN_WIDTH);const t=this._calcPositioning();this._content.style.top=this._px(t.top),this._content.style.left=this._px(t.left),this._content.style.right=this._px(t.right)}_close(){this._expander.close(),this._isOpen=!1,window.removeEventListener("resize",this._closeHandler)}_px(t){return t+"px"}_bindEvents(){this._expander.init(),this._trigger.addEventListener("globalExpander:open",t=>{t.preventDefault(),this._isOpen||(requestAnimationFrame(()=>{this._positionPopup(),this._content.focus()}),window.addEventListener("resize",this._closeHandler))}),this._getCloseButton().addEventListener("click",t=>{t.preventDefault(),this._close()}),this._getCloseButton().addEventListener("keydown",t=>{"Enter"!==t.key&&" "!==t.key&&"Spacebar"!==t.key||(t.preventDefault(),this._close(),this._trigger.focus())}),this._content.addEventListener("keydown",t=>{"Escape"===t.key&&(t.preventDefault(),this._close(),this._trigger.focus())})}_calcPositioning(){const t=document.documentElement.scrollTop,e=this._trigger.getClientRects(),n=e.length>0?e[0]:{top:0,left:0},i={top:n.top+t,left:n.left,right:5},r=i.left,s=this._content.querySelector("."+this._arrowClass),a=document.documentElement.clientWidth,o=this._options.PAGE_PADDING?this._options.PAGE_PADDING:32,c=i.top-this._content.offsetHeight-12,l=i.top-this._content.offsetHeight-12,u=i.top+n.height+12,d=i.left+this._content.offsetWidth-a+o;d>0&&(d>i.left?i.left=5:i.left-=d);let h,p=!1;if(n.length>1&&(p=!0,a>1024&&(i.left=n.left-this._content.offsetWidth/2+20)),c<t?(h=u,s.classList.remove(this._arrowClass+"--above"),s.classList.add(this._arrowClass+"--below")):(h=l,s.classList.remove(this._arrowClass+"--below"),s.classList.add(this._arrowClass+"--above")),a<768)s.style.left=this._px(r+5);else if(p){const t=Math.round(i.left+this._content.offsetWidth-n.left-20);s.style.left=this._px(Math.round(this._content.offsetWidth-t))}else s.style.left=this._px(Math.max(Math.round(n.width/2-10)+(d>0?d:0),5));return{left:a<768?5:i.left,top:h,right:5}}}}),o=n((function(t){const{Popup:e}=a;t.exports=function(){return{create:function(t,n){var i,r;(n=n||{}).etal&&function(e,n){var s=t.querySelectorAll("li"),a=s.length,o=function(t){return a>t&&!(a===t+1&&s[t].classList.contains("c-article-author-institutional-author__author-name"))},c=function(){var e=t.closest("div"),n=e?e.querySelector("h3[itemprop]"):null;return n?n.textContent:"this article"},l=function(t,e,n){var i=document.createElement("li");i.className=t;var r=document.createElement("a");return r.className="js-etal",r.setAttribute("href","javascript:;"),r.setAttribute("aria-label",e),r.setAttribute("title",e),r.innerHTML=n,i.appendChild(r),i};i=o(n);var u="";(r=o(e))&&!i&&(u="u-js-hide js-mq480-show-inline");var d=l("c-author-list__show-less u-js-hide","Show fewer authors for "+c(),"-Show fewer authors"),h=l("c-author-list__show-more "+u,"Show all "+a+" authors for "+c(),"[&hellip;]");(i||r)&&(t.classList.add("js-etal-collapsed"),s[a-2].parentNode.insertBefore(h,s[a-2]),t.appendChild(d),Array.prototype.slice.call(s,2,a-1).forEach((function(t){i&&t.classList.add("js-author-etal"),r&&t.classList.add("js-smaller-author-etal")})))}(n.etalSmallscreen||n.etal,n.etal),t.classList.add("js-no-scroll"),Array.prototype.slice.call(t.querySelectorAll("sup > a"),0).forEach((function(t){t.setAttribute("tabIndex","-1")}));var s={};t.addEventListener("click",(function(n){var a,o,c=n.target.closest("a");if(c&&c.classList.contains("js-etal"))a=t.querySelectorAll("li"),o=a.length,t.classList.contains("js-etal-collapsed")?(t.classList.add("js-authors-expanded"),t.classList.remove("js-etal-collapsed"),i?(a[o-4].classList.add("u-js-hide"),a[o-1].classList.remove("u-js-hide")):r&&(a[o-4].classList.remove("js-mq480-show-inline"),a[o-1].classList.add("js-mq480-show-inline")),a[2].querySelector("a").focus()):(t.classList.add("js-etal-collapsed"),t.classList.remove("js-authors-expanded"),i?a[o-4].classList.remove("u-js-hide"):r&&(a[o-4].classList.add("js-mq480-show-inline"),a[o-1].classList.remove("js-mq480-show-inline")),a[o-1].classList.add("u-js-hide"),t.querySelector(".c-author-list__show-more > a").focus());else if(c){var l=c.getAttribute("data-author-popup");l&&!s[l]&&(s[l]=1,function(t){var n,i,r=function(t){var e=t.querySelector("a.js-orcid"),n="";return e&&(n='<a class="c-article-orcid" href="'+e.getAttribute("href")+'" target="_blank" rel="noopener"><span class="c-article-orcid__text">View ORCID ID profile</span></a>'),n},s=t.getAttribute("data-author-popup"),a=t.closest("li"),o=t.cloneNode(!0);(i=(n=o)&&n.querySelector("svg"))&&n.removeChild(i);var c='<div tabindex="0" id="popup-'+s+'" class="c-popup c-author-popup u-font-family-serif u-js-hide"><section>';c+=function(t,e){var n=t.innerHTML;return'<h3 id="author-'+s+'" class="c-author-popup__subheading">'+n+"</h3>"+r(e)}(o,a),s.match(/^group/)?c+=function(t){var e=document.querySelector("#"+t);if(e){var n=e.cloneNode(!0),i=n.querySelector("h3"),r=n.querySelector("ul");return r&&r.classList.add("c-article-author-institutional-author__author-list--popup"),i&&i.parentNode.removeChild(i),n.innerHTML.replace(/[\r\n]/g,"")}return""}(s):(c+=function(t,e){var n=t.getAttribute("data-corresp-id"),i=n?document.querySelector("#corresp-"+n):null,r=[],s=[],a=[],o=function(t){return t.replace(/<(div|p)[^>]*>/g,"<span>").replace(/<\/(div|p)>/g,"</span>")};return Array.prototype.slice.call(e.querySelectorAll("sup > a"),0).forEach((function(t){var e;(e=t.nextElementSibling)&&"true"===e.getAttribute("data-present-affiliation")||r.push(t.hash)})),r.forEach((function(t){var e=document.querySelector(t);if(e){var n=e.querySelector(".c-article-author-affiliation__address"),i=e.getAttribute("id");if(null!==n&&a.push(o(n.innerHTML)),null!==i&&i.indexOf("n")>-1){var r=e.querySelector(".js-present-address");r?s.push(o(r.innerHTML)):s.push(o(e.innerHTML))}}})),a=s.concat(a),i&&a.push('<a href="'+i.getAttribute("href")+'" class="c-author-popup__link" rel="nofollow">Contact '+t.innerHTML+"</a>"),'<ul class="c-author-popup__author-list"><li>'+a.join("</li><li>")+"</li></ul>"}(o,a),c+=function(t){var e=document.querySelector("#"+t);if(e){var n=e.cloneNode(!0),i=n.querySelector(".js-search-name");return i&&i.parentNode.removeChild(i),n.innerHTML}return""}(s)),c+="</section></div>";var l=document.createElement("div");l.innerHTML=c,document.body.appendChild(l.firstChild),new e(t,"popup-"+s,{MAX_WIDTH:"650px",MIN_WIDTH:"300px"}).open()}(c))}}))}}}})),c=n((function(t){t.exports=function(){var t="[data-expandable-box]";function e(e){return e.querySelector(t).id}function n(e,n){var i=e.querySelector(t),r=e.querySelector("[data-expandable-label]"),s=e.querySelectorAll("a[href]");s.forEach((function(t){t.setAttribute("tabIndex","0")})),n&&s.length>0&&s[0].focus(),i.parentNode.classList.add("c-article-box--expanded"),i.style.height="auto",i.setAttribute("aria-hidden","false"),r.parentNode.setAttribute("aria-expanded","true"),r.textContent="Show less",e.isOpen=!0}function i(e,n){var i=e.querySelector(t),r=e.querySelector("[data-expandable-label]");e.querySelectorAll("a[href]").forEach((function(t){t.setAttribute("tabIndex","-1")})),i.parentNode.classList.remove("c-article-box--expanded"),i.style.height="95px",i.setAttribute("aria-hidden","true"),r.parentNode.setAttribute("aria-expanded","false"),r.textContent="Show more",n&&i.scrollIntoView(),e.isOpen=!1}return{init:function(r){(r||[]).forEach((function(t){var r=function(t){var e=t.querySelector("figcaption:first-of-type");return e&&e.textContent?e.textContent:"this box"}(t),s=['<div class="c-article-box__controls">','<div class="c-article-box__fade"></div>','<button aria-expanded="false" aria-controls="'+e(t)+'"><span class="c-article-box__button-text" data-expandable-label></span><span class="u-visually-hidden">from '+r+"</span></button>","</div>"].join("");t.insertAdjacentHTML("beforeend",s),i(t),t.querySelector("button").addEventListener("click",(function(){!function(t){t.isOpen?i(t,!0):n(t,!0)}(t)}),!1)})),window.addEventListener("hashchange",(function(){var e=location.hash?document.querySelector(location.hash):null,i=e&&e.closest(t);i&&n(i.parentNode)}))}}}})),l=n((function(t){var e,n,i=(e=window,n=document,function(){var t=!1,i=!1,r=0,s=Number.MAX_VALUE,a=0,o=null,c=null;function l(t,e){return Array.prototype.slice.call(t.querySelectorAll(e))}function u(t){var e,i;this.html=t.querySelector("a")?(e=t.innerHTML,(i=n.createElement("div")).innerHTML=e,l(i,"a").forEach((function(t){var e=n.createElement("span");e.innerHTML=t.innerHTML,t.parentNode.replaceChild(e,t)})),i.innerHTML):t.innerHTML,this.text=t.textContent.replace(/[^a-z0-9\s]/gi,""),this.id=t.id}function d(t,e){var n=t.querySelector(".c-article-supplementary__title a");n?(this.id=t.id,this.caption=n.innerHTML,this.link=n.href,this.images=[this.placeholderFor(n,e)]):(this.id=(t.querySelector(".c-article-section__figure-caption")||{id:null}).id,this.caption=(t.querySelector("figcaption > b")||{innerHTML:"Figure"}).innerHTML,this.link=(t.querySelector(".c-article__pill-button")||{href:null}).href,this.images=this.findImages(t,e))}function h(t){var e=t.querySelector(".c-article-references__text");this.id=e.id,this.num=(t.querySelector(".c-article-references__counter")||{textContent:""}).textContent,this.citation=e.innerHTML,this.links=this.findLinks(t)}function p(t){this.href=t.href,this.text=t.textContent}function _(t){return n.getElementById("rc-sec-"+t)}function f(t,e){var n="c-reading-companion--highlighted";e&&(m(t),e.setAttribute("tabindex","-1"),e.focus(),e.classList.add(n),e.addEventListener("animationend",(function t(){e.classList.remove(n),e.removeEventListener("animationend",t)})),e.scrollIntoView({block:"start"}))}function m(t,e){var n,i,r,s=o.querySelector(".c-reading-companion__"+t),a=o.querySelector(".c-reading-companion__panel--active");s&&a&&(n=s.querySelector("img[data-src]"),i=o.querySelector("button[aria-controls="+s.id+"]"),n&&l(s,"picture").forEach((function(t){var e=t.querySelector("source"),n=t.querySelector("img");e.srcset=e.getAttribute("data-srcset"),e.removeAttribute("data-srcset"),n.src=n.getAttribute("data-src"),n.removeAttribute("data-src")})),a&&((r=o.querySelector("button[aria-controls="+a.id+"]")).setAttribute("aria-selected","false"),r.setAttribute("tabindex","-1"),r.classList.remove("c-reading-companion__tab--active"),a.classList.remove("c-reading-companion__panel--active"),a.removeAttribute("tabindex")),i.setAttribute("aria-selected","true"),i.removeAttribute("tabindex"),i.classList.add("c-reading-companion__tab--active"),s.classList.add("c-reading-companion__panel--active"),e&&e.focus&&i.focus())}function g(t,u){var d=c?r+(c.offsetHeight+8):r,h=n.querySelector("div[data-component=article-container]"),p=o.querySelector(".c-reading-companion__sections-list"),g=o.querySelector(".c-ad"),b=o.querySelector(".c-reading-companion__tabs"),v=o.querySelector(".c-article-buy-box"),y=null,E=l(o,".c-reading-companion__panel:not(.c-reading-companion__panel--full-width)");if(p){y=o.querySelector(".c-reading-companion__sections-list").parentNode,u.on("nav.section",(function(t,e){var n=e&&_(e),i=t&&_(t);n&&n.classList.remove("c-reading-companion__section-item--active"),i&&(i.classList.add("c-reading-companion__section-item--active"),function(t,e){var n=e.clientHeight,i=e.scrollTop+e.offsetTop,r=i+n,s=n/4,a=t.offsetTop,o=a+t.clientHeight;a<i?e.scrollTop-=i-a+s:o>r&&(e.scrollTop+=o-r+s)}(i,y))})),u.on("nav.figure",(function(t){f("figures",function(t){return n.getElementById("rc-"+t)}(t))})),u.on("nav.reference",(function(t,e){var i=function(t){return n.getElementById("rc-"+t)}(t);e&&function(t,e){var i=t.querySelector(".c-reading-companion__return");i&&i.parentNode.removeChild(i),(i=n.createElement("a")).href="#"+e.id,i.appendChild(n.createTextNode("Return to ref "+e.textContent+" in article")),i.className="c-reading-companion__return",i.addEventListener("click",(function(){i.parentNode.removeChild(i)})),t.appendChild(i)}(i,e),f("references",i)}));var S=function(){var t=c?r+(c.offsetHeight+8):r,l=o.parentNode.getBoundingClientRect().top<=t,u=o.offsetHeight,d=h.getBoundingClientRect().bottom-n.documentElement.clientTop-(u+t),p=e.innerHeight,_=g?g.offsetHeight:0,f="c-reading-companion__sticky--stuck",m=o.classList;s=o.parentNode.parentNode.offsetWidth,!(i=m.contains(f))&&l?(m.add(f),i=!0):i&&!l&&(m.remove(f),i=!1),i&&(y.style.maxHeight=p-(_+t+(b?80:20))+"px"),o.style.top=d<=0?d+t+"px":t+"px",s!==a&&(b&&(b.style.width=s+"px"),v&&(v.style.width=s+"px"),E.length>0&&E.forEach((function(t){t.style.maxWidth=s+"px"})),a=s)};t.on("scroll resize orientationchange",S),e.pageYOffset>d&&S(),b&&(b.addEventListener("keydown",(function(t){var e,i=n.activeElement.parentNode;37===t.keyCode?e=i.previousElementSibling||o.querySelector(".c-reading-companion__tabs > li:last-child"):39===t.keyCode&&(e=i.nextElementSibling||o.querySelector(".c-reading-companion__tabs > li:first-child")),e&&m(e.querySelector("[data-tab-target]").getAttribute("data-tab-target"),{focus:!0})}),!1),l(b,".c-reading-companion__tab").forEach((function(t){t.addEventListener("click",(function(t){m(t.target.getAttribute("data-tab-target"),{focus:!0})}),!1)})))}}function b(t,e){t.insertAdjacentHTML("beforebegin",e)}function v(){var t=["sections","figures","references"].map((function(t){var e,i,r=n.querySelector(".c-reading-companion__"+t),s=function(t,e){var n={sections:function(t){var e=[];return t.forEach((function(t){e.push(new u(t))})),e.length>0?'<ul class="c-reading-companion__sections-list">'+e.map((function(t){return t.render()})).join("")+"</ul>":""},figures:function(t){var e=[];return t.forEach((function(t,n){var i=new d(t,n+1);i.id&&e.push(i)})),e.length?'<ul class="c-reading-companion__figures-list">'+e.map((function(t){return t.render()})).join("")+"</ul>":""},references:function(t){var e=[];return t.forEach((function(t){e.push(new h(t))})),e.length?'<ol class="c-reading-companion__references-list'+(e[0].num?" c-reading-companion__references-list--numeric":"")+'">'+e.map((function(t){return t.render()})).join("")+"</ol>":""}};return n[t]?n[t](e):""}(t,l(n,".js-c-reading-companion-"+t+"-item")),a=(e=t,i=t.charAt(0).toUpperCase()+t.substring(1),'<li role="presentation"><button data-tab-target="'+e+'" role="tab" id="tab-'+e+'" aria-controls="tabpanel-'+e+'" aria-selected="false" tabindex="-1" class="c-reading-companion__tab" data-track="click" data-track-action="'+e+' tab" data-track-label="tab">'+i+"</button></li>");return s&&r?(r.setAttribute("aria-labelledby","tab-"+t),function(t,e){t.insertAdjacentHTML("afterbegin",e)}(r,'<div class="c-reading-companion__scroll-pane">'+s+"</div>")):r&&r.parentNode.removeChild(r),!(!s||!r)&&a})).filter((function(t){return Boolean(t)})),e=o.querySelector(".c-reading-companion__panel"),i=t.length;return i>1?b(e,function(t){return'<ul class="c-reading-companion__tabs" role="tablist">'+t.join("")+"</ul>"}(t)):1===i&&b(e,'<h3 class="c-reading-companion__heading u-font-family-sans">Sections</h3>'),i}return u.prototype.render=function(){return'<li id="rc-sec-'+this.id+'" class="c-reading-companion__section-item"><a href="#'+this.id+'" data-track="click" data-track-action="section anchor" data-track-label="link:'+this.text+'">'+this.html+"</a></li>"},d.prototype={findImages:function(t,e){var n=[],i=this;return l(t,"picture > img").forEach((function(t){n.push(i.placeholderFor(t,e))})),n},placeholderFor:function(t,e){var n=t.getAttribute("data-supp-info-image")||t.src,i=t.alt||"extended data figure "+e,r="rc-"+this.id,s=-1===n.indexOf("?")?"?":"&";return["<picture>",'<source type="image/webp" data-srcset="'+n+s+'as=webp">','<img data-src="'+n+'" alt="'+i+'" aria-describedby="'+r+'"/>',"</picture>"].join("")},render:function(){return['<li class="c-reading-companion__figure-item">',"<figure>",'<figcaption><b class="c-reading-companion__figure-title u-h4" id="rc-'+this.id+'">'+this.caption+"</b></figcaption>",this.images.join(""),this.link?'<p class="c-reading-companion__figure-links">':"",this.link?'<a href="#'+this.id+'" data-track="click" data-track-action="figure anchor" data-track-label="link">View in article</a>':"",this.link&&t?'<a href="'+this.link+'" class="c-reading-companion__figure-full-link" data-track="click" data-track-action="view figure" data-track-label="link">Full size image<svg width="16" height="16" class="u-icon"><use href="#global-icon-chevron-right"/></svg></a>':"",this.link?"</p>":"","</figure>","</li>"].join("")}},h.prototype.findLinks=function(t){var e=[];return l(t,".c-article-references__links a").forEach((function(t){e.push(new p(t))})),e},h.prototype.render=function(){return['<li class="c-reading-companion__reference-item">','<p class="c-reading-companion__reference-citation u-font-family-serif" id="rc-'+this.id+'">'+this.citation+"</p>",this.links.length>0?'<p class="c-reading-companion__reference-links">'+this.links.map((function(t){return t.render()})).join("")+"</p>":"","</li>"].join("")},p.prototype.render=function(){return'<a href="'+this.href+'" data-track="click" data-track-action="outbound reference" data-track-label="link">'+this.text+"</a>&nbsp;"},{init:function(i,s,a){t=Boolean(i.access),r=i.offset||0;var l=!1,u=function(t){!function(t){if(!l&&!t.matches&&(o=n.querySelector("[data-component=reading-companion-sticky]"))){c=n.querySelector('[data-component="context-bar"]');var e=v();0!==e&&(g(s,a),e>1&&m("sections"),l=!0)}}(t),a.emit("rc.display",!t.matches&&l)},d=e.matchMedia(i.matchMediaQuery||"(max-width: 1023px)");d.addListener(u),u(d)}}});t.exports=i})),u=n((function(t){var e=function(t,e){return function(){var n=null,i=[],r=null,s=0,a=null,o=!1,c=null;function l(){return c?s+(c.offsetHeight+8):s}function u(){t.addEventListener("scroll",(function e(){t.removeEventListener("scroll",e),setTimeout((function(){t.scrollBy(0,-1*l())}),1)}),!1)}function d(){var s=t.innerHeight,a=e.documentElement.clientTop,o=null,c=function(t){return t.getBoundingClientRect().top-a},u=l();i.forEach((function(t){if(c(t)<=u+s/2)if(o){var n=e.getElementById(o);c(n)<=u-n.offsetHeight&&(o=t.id)}else o=t.id})),o!==r&&(n.emit("nav.section",o,r),r=o)}function h(i){var r=null;if(i.target&&i.target.closest&&(r=i.target.closest("a")),r&&r.hash&&(!a||!r.closest(a))&&r.pathname===t.location.pathname){var s=function(t){var e=t.hash;if(!e||function(t){return Boolean(t.closest(".c-reading-companion"))}(t))return!1;return e.match(/#(Fig|f|sf)\d+/)}(r),c=!s&&function(t){var n=t.hash;if(!n)return!1;var i=e.querySelector('div[data-container-section="references"]');return i&&Boolean(i.querySelector(n))}(r),l=r.hash.slice(1),d=e.getElementById(l);if(o&&(s||c))return s?n.emit("nav.figure",l,r):c&&n.emit("nav.reference",l,r),void i.preventDefault();n.emit("nav.anchor",l,r),function(t){var e,n,i,r,s,a=function(e){return t.nodeName.toLowerCase()===e};t&&(e=t.hasAttribute("tabindex"),n=a("a")&&t.href,i=a("button"),r=a("input"),s=a("textarea"),(t.getAttribute("disabled")||!(e||n||i||r||s))&&t.setAttribute("tabindex","-1"),t.focus())}(d),u()}}return{init:function(r,l,p){c=e.querySelector('[data-component="context-bar"]'),i=e.querySelectorAll(".js-section-title"),s=r.offset||0,a=r.exclude||"js-no-scroll",(n=p).on("rc.display",(function(t){o=t})),l.on("scroll resize orientationchange",d),e.body.addEventListener("click",h,!1),t.location.hash&&u()}}}}(window,document);t.exports=e})),d=n((function(t){t.exports=function(){var t="c-article-share-box",e=null,n=null,i=!1,r=function(){return'<div class="'+t+'"><h3 class="c-article__sub-heading">Share this article</h3><p class="c-article-share-box__description">Anyone you share the following link with will be able to read this content:</p><button \t\t\tclass="js-get-share-url c-article-share-box__button" \t\t\tid="get-share-url" \t\t\tdata-track="click" \t\t\tdata-track-label="button" \t\t\tdata-track-external="" \t\t\tdata-track-action="get shareable link">Get shareable link</button><div class="js-no-share-url-container u-display-none" hidden><p class="js-c-article-share-box__no-sharelink-info c-article-share-box__no-sharelink-info">Sorry, a shareable link is not currently available for this article.</p></div><div class="js-share-url-container u-display-none" hidden><p \t\t\tclass="js-share-url c-article-share-box__only-read-input" \t\t\tid="share-url" \t\t\tdata-track="click" \t\t\tdata-track-label="button" \t\t\tdata-track-action="select share url"> \t\t</p><button \t\t\tclass="js-copy-share-url c-article-share-box__button--link-like" \t\t\tid="copy-share-url" \t\t\tdata-track="click" \t\t\tdata-track-label="button" \t\t\tdata-track-action="copy share url" \t\t\tdata-track-external="">Copy to clipboard</button></div><p class="js-c-article-share-box__additional-info c-article-share-box__additional-info">Provided by the Springer Nature SharedIt content-sharing initiative</p></div>'},s=function(t){n=document.querySelector(".js-share-url"),a(t).then((function(t){t.url?(n.innerHTML=t.url,o("js-share-url-container"),c()):o("js-no-share-url-container")})).catch((function(){o("js-no-share-url-container")}))},a=function(t){return new Promise((function(e,n){var i=new XMLHttpRequest;i.addEventListener("load",(function(){i.readyState===i.DONE&&(200===i.status?e(JSON.parse(i.responseText)):n())})),i.open("GET",t),i.send()}))},o=function(t){var n=document.querySelector("."+t);e.classList.add("u-display-none"),e.setAttribute("hidden",""),n.classList.remove("u-display-none"),n.classList.add("u-display-inline"),n.removeAttribute("hidden")},c=function(){document.querySelector(".js-copy-share-url").addEventListener("click",(function(){l(n),u(),document.execCommand("copy"),setTimeout(u,500)}))},l=function(t){var e=window.getSelection();t?e.selectAllChildren(t):e.removeAllRanges()},u=function(){i?(n.classList.remove("c-article-share-box__only-read-input--highlighted"),i=!1):(n.classList.add("c-article-share-box__only-read-input--highlighted"),i=!0)};return{init:function(t){var n,i=t&&t.doi?t.doi:"",a=(t&&t.url?t.url:"")+i;""!==a&&((n=document.querySelector('[data-component="share-box"]'))&&(n.innerHTML=r()),Boolean(n))&&function(t){(e=document.querySelector(".js-get-share-url")).addEventListener("click",s.bind(this,t))}(a)}}}})),h=n((function(t){t.exports=function(){return{init:function(t,e,n){(t||[]).forEach((function(t){this.bindEvents(t,e,n)}),this)},bindEvents:function(t,e,n){var i=function(){var e,n;n="c-table-scroll-wrapper__fade",(e=t).scrollWidth-(e.scrollLeft+e.clientWidth)>0?(e.classList.add(n),e.classList.remove("c-table-scroll-wrapper__fade--transparent")):e.classList.add("c-table-scroll-wrapper__fade--transparent")};n.on("load resize",i),t.addEventListener("scroll",e(i,{wait:100}),!1)}}}}));const p={STICKY_FROM_SELECTOR:".js-main-column",STICKY_FROM_DESKTOP_SELECTOR:".c-article-extras",COMPONENT_SELECTOR:'[data-component="context-bar"]',HIDE_CLASS:"u-hide"};class _{constructor(t,e={}){this._options=Object.assign({},p,e),this._component=document.querySelector(this._options.COMPONENT_SELECTOR),t&&null!==this._component&&(this._scheduler=t,this._stickyFrom=document.querySelector(this._options.STICKY_FROM_SELECTOR),this._stickyFromDesktop=document.querySelector(this._options.STICKY_FROM_DESKTOP_SELECTOR),(this._stickyFrom||this._stickyFromDesktop)&&(this._button=this._component.querySelector(".c-pdf-download"),this._stickyPoint=0,this._init(),window.pageYOffset>0&&this._update()))}_init(){this._scheduler.on("scroll orientationchange resize",this._update.bind(this))}_handleButton(){this._button?(this._addGAButtonTracking(),this._button.querySelector("a").setAttribute("tabindex","-1")):this._component.classList.add("c-context-bar--no-button")}_preventDisplayingSmallViewport(){return window.innerWidth<211}_update(){const t=window.matchMedia("(min-width: 1023px)").matches?this._stickyFromDesktop:this._stickyFrom;t&&(this._stickyPoint=t.offsetTop-8-window.pageYOffset,this._stickyPoint<=0&&this._handleButton(),this._toggleBanner(),this._stickyBehavior())}_addGAButtonTracking(){this._button.querySelector("a").setAttribute("data-track-label","button sticky")}_toggleBanner(){const t=this._preventDisplayingSmallViewport();this._stickyPoint<=0&&!t?this._component.classList.remove(this._options.HIDE_CLASS):this._component.classList.add(this._options.HIDE_CLASS)}_stickyBehavior(){const t=this._preventDisplayingSmallViewport();this._stickyPoint<=0&&!t?this._component.classList.add("c-context-bar--sticky"):this._component.classList.remove("c-context-bar--sticky")}}const f=()=>{const t=new XMLHttpRequest;t.addEventListener("load",()=>{const e={event:"update-user-details"};let n=null;if(200===t.status)try{n=JSON.parse(t.responseText)}catch(t){console.error(t)}((t,e)=>{e.businessPartners&&(t.BPID=e.businessPartners.map(t=>t.id),t.Bpids=t.BPID.join(", "),t.user={},t.user.license={businessPartnerID:t.BPID,businessPartnerIDString:t.BPID.join("|")},t.Bpnames=e.businessPartners.map(t=>t.name).join(", ")),t.session={},t.session.authentication={},t.session.authentication.loginStatus=e.loggedIn?"Y":"N"})(e,n||{}),(t=>{const e=t.userDisplayName?" as "+t.userDisplayName:"",n=t.loggedIn?"Logged in"+e:"Not logged in",i=t.businessPartners&&t.businessPartners.length>0?t.businessPartners.map(t=>t.name+" ("+t.id+")").join(" - "):"Not affiliated",r='<p class="c-user-metadata__item"><span data-test="footer-user-login-status">'+n+"</span>"+(t.ipAddress?'<span data-test="footer-user-ip"> - '+t.ipAddress+"</span>":"")+"</p>",s='<p class="c-user-metadata__item" data-test="footer-business-partners">'+i+"</p>",a=document.querySelector("div.c-user-metadata");a&&(a.innerHTML=r+s)})(n||{}),(t=>{if(t.loggedIn){const e=encodeURIComponent(window.location.protocol+"//"+window.location.hostname+window.location.pathname+window.location.search+window.location.hash),n='<li class="c-header__item"><a class="c-header__link" data-test="institutional-login-link" href="//wayf.springernature.com?redirect_uri&#x3D;'+e+'"><span class="u-overflow-ellipsis">Athens &#38; Shibboleth login</span></a></li>',i='<li class="c-header__item"><a class="c-header__link" data-test="logout-link" href="//link.springer.com/logout?goto&#x3D;'+e+'&amp;state&#x3D;logout"><span class="u-overflow-ellipsis">Log out</span></a></li>',r='<li class="c-header__item"><ul class="c-header__menu u-js-hide" data-enhanced-account="'+(t.userDisplayName||"")+'"></ul><li class="c-header__item"><a class="c-header__link" data-test="account-details-link" href="//link.springer.com/account"><span class="u-overflow-ellipsis">My account</span></a></li>'+i+"</ul></li>",s=document.querySelector("ul.c-header__menu");s&&(s.innerHTML=n+r)}})(n||{}),window.userSessionDetailsLoaded=!0,window.dataLayer.push(e)},!1),t.open("GET","/platform/user-session-details",!0),t.send(null)},m=()=>{var t,n,s,a=document.querySelector('[data-component-authors-activator="authors-list"]');if(function(){var t={EventEmitter:i,ShareBox:d,InternalNavigation:u,Scheduler:r,ReadingCompanion:l,AuthorList:o,ScrollWrapper:h,Boxes:c};for(var e in Component=Component||{},t)Object.prototype.hasOwnProperty.call(t,e)&&(Component[e]=new t[e])}(),NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach),t=Component.EventEmitter,n={offset:10,exclude:"js-no-scroll",access:!0},Component.InternalNavigation.init(n,Component.Scheduler,t),Component.ReadingCompanion.init(n,Component.Scheduler,t),Component.ContextBar=new _(Component.Scheduler),(s=document.querySelector('meta[name="access"]'))&&s.getAttribute("content")&&"yes"===s.getAttribute("content").toLowerCase()&&!window.suppressShareButton){var p=function(){var t=document.querySelector('meta[name="DOI"]');return t?t.getAttribute("content"):""}();p&&Component.ShareBox.init({url:"/article/"+p+"/share"})}if(a){var m=a.getAttribute("data-etal")||null,g=a.getAttribute("data-etal-small")||m;Component.AuthorList.create(a,{etal:m,etalSmallscreen:g})}Component.ScrollWrapper.init(document.querySelectorAll("[data-component-scroll-wrapper]"),e,Component.Scheduler),Component.Boxes.init(document.querySelectorAll("div[data-expandable-box-container]")),-1!==window.location.pathname.indexOf("static-article")&&f()};"loading"===document.readyState?document.addEventListener&&document.addEventListener("DOMContentLoaded",(function(){m()}),!1):m()}();

//# sourceMappingURL=global-article-es6-bundle-b5dd9f9e24.js.map
